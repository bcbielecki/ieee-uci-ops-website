<!DOCTYPE html>
<html lang="en" dir="ltr" data-bs-theme="light">
	<head>
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
		<title>Open Project Space</title>
		<link rel="icon" href="./assets/images/ops_logo_favicon.png">
		<!--Fonts-->
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,700;1,100;1,300;1,700&display=swap" rel="stylesheet">
		<!-- Custom Stylesheet "custom.css" used for Bootstrap 5.3.0 css-->
		<link rel="stylesheet" href="./css/custom.css" type="text/css">
		<!-- Bootstrap 5.3.0 JS-->
		<script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
		<!-- Bootstrap Icons-->
		<link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.min.css" type="text/css">
		
		<!-- Highlight JS-->
		<link rel="stylesheet" href="./css/highlight.js/default.min.css">
		<link rel="stylesheet" href="./css/highlight.js/arduino-light.min.css">
		<script src="./js/highlight.min.js"></script>
		<script>hljs.highlightAll();</script>
	</head>
	
<body style="">
	<!-- ======= Header ======= -->
    <script src="./js/ops_header.js"></script>
    <!-- End Header -->

	<div class="container-xl pj-layout my-5">


		<aside class="pj-sidebar ">
			<nav id="project-toc" class="pj-toc d-flex flex-column px-2 pt-2 pb-4">
				<ul class="nav flex-column">
					<h5 class="mt-2 mb-2 mx-3">Contents</h5>

					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-introduction">Overview</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-requirements">Requirements</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-parts">Parts</a>
					</li>
				  	<li class="nav-item">
						<a class="nav-link" href="#pj-heading-schematics">Schematics</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-arduino-libraries">Arduino Libraries</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-concepts">Concepts</a>
						
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-dht11">DHT11</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-lcd">LCD with I<sup>2</sup>C Backpack</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-nrf24l01">NRF24L01 Transceiver</a>
							</li>
						</ul>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-arduino-nano-pinout">Arduino Nano Pinout</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-instructions">Instructions</a>
						<ul class="nav">
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint1">Checkpoint 1</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint2">Checkpoint 2</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#pj-heading-checkpoint3">Checkpoint 3</a>
							</li>
						</ul>
					</li> 
					<li class="nav-item">
						<a class="nav-link" href="#pj-heading-deliverables">Deliverables</a>
					</li>
				</ul>
			  </nav>
		</aside>


		<main class="pj-main p-3" data-bs-spy="scroll" data-bs-target="#project-toc" data-bs-root-margin="0px 0px -40%" data-bs-smooth-scroll="true" tabindex="0">
			<div class="d-flex flex-row justify-content-between mb-5">
				<div class="">
					<h4 >Project 6</h4>
					<h1 class="fw-bold">Weather Station</h1>
				</div>
				<div class="alert alert-light" role="alert">
					<i class="bi bi-calendar-event me-1"></i>
					Updated 2023.06.30 <br>
					By Benjamen Bielecki
				</div>
			</div>

			<h2 class="mb-3 fw-bold" id="pj-heading-introduction">Overview</h2>
			<p class="mb-5">
				This next project is a culmination of all that you have learned in communication. 
				You will transfer data between two Arduino boards and several embedded devices, 
				using a variety of communication protocols. The goal? Your system will be a full-fledged, 
				wireless weather station. An outdoor Arduino unit, connected to temperature, humidity, 
				and light sensors, will transmit its data over radio to the indoor Arduino unit, 
				which will print this information on a display. Read the primer (sections 2-7), and then proceed
					to the procedure (section 9) when you are ready to build.
			</p>

			<h2 class="mb-3 fw-bolder" id="pj-heading-requirements">Requirements</h2>
			<p class="mb-3">
				For readers who are enrolled in the course: In order to receive full marks on your project submission, 
				make sure it meets the following <strong>minimum requirements</strong>.
			</p>
			<ul class="mb-5 list-group">
				<li class="list-group-item">
					You must build a rover and a remote control.
				</li>
				<li class="list-group-item">
					The rover must be controlled wirelessly via the remote control.
				</li>
				<li class="list-group-item"> 
					The remote control should use a joystick for user input.
				</li>
				<li class="list-group-item">
					A user should be able to intuitively use the joystick to control the rover. This means that pivoting the joystick left should move the rover left, not backward.
				</li>
				<li class="list-group-item">
					You must design a PCB for the remote control.
				</li>
				<li class="list-group-item">
					The rover must be able to move forward, backward, left, and right in response to commands sent by the remote.
				</li>
				<li class="list-group-item">
					Lastly, the rover must be stable and reliable. There should be no spontaneous movement, no wireless connection issues, and absolutely no sparks.
				</li>
			</ul>

			<h2 class="mb-3 fw-bold" id="pj-heading-parts">Parts</h2>
			<table class="table pj-part-table mb-5">
				<thead >
					<tr>
						<th scope="col">Part Name</th>
						<th scope="col">Qty</th>
					</tr>
					</thead>
					<tbody>
					<tr>
						<td>
							<a class="pj-part" data-bs-content="<img src='./assets/images/parts/ops_part_arduino_nano.png' height='150px' width='auto'>" data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" >
								Arduino Nano
							</a>
						</td>
						<td>2</td>
						</tr>
					<tr>
						<td>Breadboard</td>
						<td>2</td>
					</tr>
					
					<tr>
						<td>Battery (9V)</td>
						<td>1</td>
					</tr>
					<tr>
						<td>Dupont 9V Snap Connector</td>
						<td>1</td>
					</tr>
					<tr>
						<td>
							<a class="pj-part" data-bs-content="<img src='./assets/images/parts/ops_part_nrf24l01.png' height='150px' width='auto'>" data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" >
								N4F24L01 Transceiver Module
							</a>
						</td>
						<td>2</td>
					</tr>
					<tr>
						<td>
							<a class="pj-part" data-bs-content="<img src='./assets/images/parts/ops_part_lcd_i2c_backpack.png' height='150px' width='auto'>" data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" >
								LCD with I<sup>2</sup>C Backpack
							</a>
						</td>
						<td>2</td>
					</tr>
					<tr>
						<td>
							<a class="pj-part" data-bs-content="<img src='./assets/images/parts/ops_part_dht11.png' height='150px' width='auto'>" data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" >
								DHT11
							</a>
						</td>
						<td>1</td>
					</tr>
					<tr>
						<td>
							<a class="pj-part" data-bs-content="<img src='./assets/images/parts/ops_part_photoresistor.png' height='150px' width='auto'>" data-bs-trigger="hover focus" data-bs-toggle="popover" tabindex="0" >
								Photoresistor
							</a>
						</td>
						<td>1</td>
					</tr>
					<tr>
						<td>Resistor (10kΩ)</td>
						<td>1</td>
					</tr>
					<tr>
						<td>Jumper Wire</td>
						<td>~</td>
					</tr>
					<tr>
						<td>Micro USB Cable</td>
						<td>1</td>
					</tr>
					</tbody>
			</table>



			<h2 class="mb-3 fw-bold" id="pj-heading-schematics">Schematics</h2>
			<div class="accordion mb-5" id="schemAccordian">
				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#schemCollapse1" aria-expanded="true" aria-controls="schemCollapse1">
							Schematic A
						</button>
					</h2>
					<!--Pin to page?-->
					<div id="schemCollapse1" class="accordion-collapse collapse show" data-bs-parent="#schemAccordian">
						<div class="accordion-body text-center">
							<img src='./assets/images/schematics/ops_schem_proj6_a.png' class="pj-schem">
						</div>
					</div>
				</div>

				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#schemCollapse2" aria-expanded="true" aria-controls="schemCollapse2">
							Schematic B
						</button>
					</h2>
					<!--Pin to page?-->
					<div id="schemCollapse2" class="accordion-collapse collapse" data-bs-parent="#schemAccordian">
						<div class="accordion-body text-center">
							<img src='./assets/images/schematics/ops_schem_proj6_b.png' class="pj-schem">
						</div>
					</div>
				</div>

				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#schemCollapse3" aria-expanded="true" aria-controls="schemCollapse3">
							Schematic C
						</button>
					</h2>
					<!--Pin to page?-->
					<div id="schemCollapse3" class="accordion-collapse collapse" data-bs-parent="#schemAccordian">
						<div class="accordion-body text-center">
							<img src='./assets/images/schematics/ops_schem_proj6_c.png' class="pj-schem">
						</div>
					</div>
				</div>

				<div class="accordion-item">
					<h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#schemCollapse4" aria-expanded="true" aria-controls="schemCollapse4">
							Schematic D
						</button>
					</h2>
					<!--Pin to page?-->
					<div id="schemCollapse4" class="accordion-collapse collapse" data-bs-parent="#schemAccordian">
						<div class="accordion-body text-center">
							<img src='./assets/images/schematics/ops_schem_proj6_d.png' class="pj-schem">
						</div>
					</div>
				</div>
			</div>

		<h2 class="mb-3 fw-bold" id="pj-heading-arduino-libraries">Installing Arduino Libraries</h2>
		<p class="mb-3">
			Here is a quick recap on how you can install Arduino libraries in the 
			<a class="link-primary" href="https://www.arduino.cc/en/software" target="_blank" rel="noopener noreferrer">Arduino IDE 2.0.0+</a>
		</p>
		<ol class="mb-4 list-group list-group-numbered">
			<li class="list-group-item">
				Download the library as a <strong>.zip</strong>
			</li>
			<li class="list-group-item">
				In the Arduino IDE, go to <strong>Sketch → Include Library → Add .ZIP Library…</strong>
			</li>
			<li class="list-group-item"> 
				Select the <strong>.zip</strong> of the library and click <strong>Open</strong>.
			</li>
		</ol>
		<img class="img-fluid mb-4" src=".\assets\images\ops_arduino_ide_zip_library.png">
			
			<p class="mb-4">
				Make sure to <code class="pj-code language-arduino">#include</code> the library header file so that your code compiles correctly.
			</p>

			<table class="table pj-download-table mb-5">
					<tbody>
					<tr>
						<td>DHT11 Library</td>
						<td>
							<a class="btn btn-outline-success mx-3" href="https://drive.google.com/u/0/uc?id=13l0xBJkl7UiNxC3JY1AaUamEku6W_K77&export=download" role="button"><i class="bi bi-download"></i> Download</a>
						</td>
						</tr>
					<tr>
						<td>LiquidCrystal I<sup>2</sup>C Library</td>
						<td>
							<a class="btn btn-outline-success mx-3" href="https://drive.google.com/u/0/uc?id=1HyxZnboDG1AFusFtOMBhR6ogWcsgrf-6&export=download" role="button"><i class="bi bi-download"></i> Download</a>
						</td>
					</tr>
					
					<tr>
						<td>NRF24L01_W Library</td>
						<td>
							<a class="btn btn-outline-success mx-3" href="https://drive.google.com/u/0/uc?id=1NOQYAHhi2zEvs3LF03NmtVruFnfNxvSp&export=download" role="button"><i class="bi bi-download"></i> Download</a>
						</td>
					</tr>
					</tbody>
			</table>


			<h2 class="mb-3 fw-bold" id="pj-heading-concepts">Concepts</h2>
			<p class="mb-5">
				Before you begin assembling the project, give this section a skim. You will find code snippets, explanations, and diagrams
				of the major electronics compoenents you will use.
			</p>

			<h3 class="mb-3" id="pj-heading-dht11">DHT11</h3>
			<p class="mb-5">
				We will use the DHT11 sensor module to measure temperature and humidity. This component is rather straightforward. The DHT11 uses the 
				<a class="link-primary" href="https://docs.arduino.cc/learn/communication/one-wire">1-Wire® protocol</a> to communicate with the Arduino board over a single data line. We simply 
				need to accept the data at the Arduino and display it. 
			</p>



			<h4 class="mb-3 fw-light" id="pj-heading-dht11" style="display: inline;">DHT11 Pinout</h4>	
			<p>
				<img class="img-fluid my-3 me-5 float-start" style="max-width: 400px;" src="./assets/images/pinouts/ops_pinout_dht11.png">
				To the left is the pinout of the DHT11. 
				<br><br>
				The <span class="text-gray">GND</span> and <span class="text-red">VCC</span> pins power the radio module. 
				Note that the <span class="text-red">VCC</span> pin takes a voltage between 3.3 and 5V, but to keep it simple, <strong>connect it to the VCC pin</strong> of 
				the Arduino board.
			</p>

			<p class="mb-5">
				The third and final pin is <span class="text-green">S</span>. This line carries the communication between the
				Arduino and sensor. It should be connected to a digital pin of the Arduino board.
			</p>

			<h4 class="mb-3 fw-light" id="pj-heading-dht11" style="display: inline;">Using the DHT11 Library</h4>	
			<p class="mb-3">
				Writing the code for the DHT11 is almost as easy as wiring it! You can download the library 
				<a class="link-primary" href="#pj-heading-arduino-libraries">here</a>.
				Make sure to include the header file:
			</p>
			<p class="mb-3">
				<code class="pj-code language-arduino">#include &lt;dht11.h&gt;</code>
			</p>
			<p class="mb-3">
				At the core of this library is the dht11 class, which you will instantiate as an object and use to read data from the sensor. 
			</p>
			<p class="mb-3">
				Create an object as follows, declaring it in the global scope.
			</p>
			<p class="mb-3">
				<code class="pj-code language-arduino">dht11 weatherSensor;</code>
			</p>
			<p class="mb-3">
				To collect data from the sensor, call the <code class="pj-code language-arduino">read()</code> function from the dht11 object. 
				Make sure to pass the digital pin of the <span class="text-green">S</span> line as the argument.
			</p>
			<p class="mb-3">
				<code class="pj-code language-arduino">weatherSensor.read(int pin); </code>
			</p>
			<p class="mb-3">
				After you call <code class="pj-code language-arduino">read()</code>, you may access the temperature and humidity values using the following dht11 member variables. These values are the int type. Temperature is Celsius.
			</p>
			<p class="mb-5">
				<code class="pj-code language-arduino">weatherSensor.temperature</code>
				<code class="pj-code language-arduino">weatherSensor.humidity</code>
			</p>

			<p class="mb-5">
				At this point, you can print the values to the serial monitor or use it however else you please.
				<br>
				<span>Let’s see all of the code in action!</span>
			</p>

				<pre class="mb-5"><code class="pj-code language-arduino">#include &lt;LiquidCrystal_I2C.h&gt;
LiquidCrystal_I2C lcd(0x27, 16, 2);

void setup()
{
	lcd.init(); // initialize the lcd
	lcd.backlight();
}

void loop()
{
	lcd.clear();                 // clear display
	lcd.setCursor(0, 0);         // move cursor to   (0, 0)
	lcd.print("Hello");          // print message at (0, 0)
	lcd.setCursor(2, 1);         // move cursor to   (2, 1)
	lcd.print("World");          // print message at (2, 1)
	delay(1000);                 // delay between each print to LCD
}</code></pre>



			<h2 class="mb-3 fw-bold" id="pj-heading-arduino-nano-pinout">Arduino Nano Pinout</h2>
			<p class="mb-5">
				Thinking about using a pin but you don’t know what it does? Refer to the Arduino Nano pinout diagram, or scroll further to find the full datasheet.
 				<br>
				<span class="text-blue">~</span> represents pins that are PWM capable.
				<img class="img-fluid my-4" src=".\assets\images\pinouts\ops-pinout-arduino-nano.png">
			</p>




			<h2 class="mb-3 fw-bold" id="pj-heading-instructions">Instructions</h2>
			<h3 class="mb-3" id="pj-heading-checkpoint1">Checkpoint 1</h3>
			<ol class="mb-5 list-group list-group-numbered">
				<li class="list-group-item">
					Build the circuit in <strong>Schematic A</strong> on one breadboard. 
					<div class="alert alert-info mt-2" role="alert">
							You will test the DHT11 and light sensor, outputting their data to the serial monitor.
					<div>
				</li>
				<li class="list-group-item">
					Program the Arduino board to print the following information to the serial monitor <strong>every 10 seconds</strong>:
					<ul>
						<li>Temperature</li>
						<li>Humidity</li>
						<li>Whether it is day or night</li>
					</ul>
				</li>
				<li class="list-group-item"> 
					Upload your sketch to the board, and verify that the system executes as expected. 
					You should see an output similar to the following on the serial monitor:
					<pre class="mt-3"><code class="pj-code language-plaintext">Temp: 34C
Humidity: 80%
Time: Day

Temp: 35C
Humidity: 81%
Time: Day

Temp: 36C
Humidity: 79%
Time: Night</code></pre>

					<div class="alert alert-warning" role="alert">
						<strong>Don’t expect the same exact values</strong>; any value within reason is acceptable. 
						The formatting doesn’t have to be exactly the same either.
					</div>
				</li>
			</ol>



			<h3 class="mb-3" id="pj-heading-checkpoint3">Checkpoint 3</h3>
			<ol class="mb-5 list-group list-group-numbered">
				<li class="list-group-item">
					Build the circuit in <strong>Schematic C</strong>, which extends Schematic A (Checkpoint 1).  
					<div class="alert alert-warning mt-2" role="alert">
						<strong>Do not disassemble anything. </strong>Just add to the existing breadboard.  
					</div>
					<div class="alert alert-info" role="alert">
						You will design the weather station or transmitter, which will send weather reports to the receiver board with the LCD.
					</div>
					<div class="alert alert-info" role="alert">
						Connect the NRF24 radios to the breadboard using the dupont jumper wire.
					</div>
					<div class="alert alert-info" role="alert">
						This circuit will be powered by the 9V battery. <strong>No USB power is required.</strong>
					</div>
				</li>
				<li class="list-group-item">
					Program the transmitter Arduino board to send a 
					<code class="pj-code language-arduino">WeatherReport</code> container over radio <strong>every 10 seconds</strong>.
				</li>
				<li class="list-group-item"> 
					Build the circuit in <strong>Schematic D</strong>, which extends Schematic B (Checkpoint 2). 
					<div class="alert alert-warning mt-2" role="alert">
						<strong>Do not disassemble anything. </strong>Just add to the existing breadboard.  
					</div>
					<div class="alert alert-info" role="alert">
						You will design the receiver board, which will display the weather report on the LCD.
					</div>
				</li>
				<li class="list-group-item"> 
					Program the receiver Arduino board to display a
					<code class="pj-code language-arduino">WeatherReport</code>on the LCD upon receiving one. 
					<div class="alert alert-info mt-2" role="alert">
						You may set a delay since you only expect a report to be sent every 10 seconds.  
					</div>
				</li>
				<li class="list-group-item"> 
					Upload your transmitter and receiver sketches to the respective board, and verify that the system executes as expected.
					The receiver will display any newly received weather reports on its LCD, which should look like the following (but not necessarily identical):
					<div class="alert alert-info mt-2" role="alert">
						Every 10 seconds, the transmitting weather station will send a new weather report to the receiver. 
					</div>
					<img class="img-fluid m-2 d-block" style="max-width: 400px;" src=".\assets\images\ops_img_proj6_1.png">
				</li>
			</ol>


			<h2 class="mb-3 fw-bold" id="pj-heading-deliverables">Deliverables <span class="fw-light">(Enrolled Students Only)</span></h2>
			<p class="mb-3">
				Students enrolled in the course must submit the following deliverables to the corresponding Canvas course assignment:
			</p>
			
			<ul class="mb-4 list-group">
				<li class="list-group-item">
					<i class="bi bi-check2-square me-2"></i>
					Photo of the weather station/transmitter Arduino board  
					<div class="alert alert-info mt-2" role="alert">
						This photo should include the DHT11, light sensor, NRF24 transceiver, and one Arduino correctly wired together.  
					</div>
				</li>
				<li class="list-group-item">
					<i class="bi bi-check2-square me-2"></i>
					Photo of the receiver Arduino board
					<div class="alert alert-info mt-2" role="alert">
						This photo should include the NRF24 transceiver, LCD, and one Arduino correctly wired together. 
					</div>
					<div class="alert alert-info mt-2" role="alert">
						The LCD should clearly display the temperature, humidity, and time of day (day or night).
					</div>
				</li>
				<li class="list-group-item">
					<i class="bi bi-check2-square me-2"></i>
					Transmitter Arduino sketch file
					<div class="alert alert-info mt-2" role="alert">
						This file should include all of the code you have written for the Arduino Nano acting as the transmitter. Name it “<code class="pj-code language-plaintext">project6_transmitter.ino</code>”.
  
					</div>
				</li>
				<li class="list-group-item">
					<i class="bi bi-check2-square me-2"></i>
					Receiver Arduino sketch file
					<div class="alert alert-info mt-2" role="alert">
						This file should include all of the code you have written for the Arduino Nano acting as the transmitter. Name it “<code class="pj-code language-plaintext">project6_receiver.ino</code>”.
					</div>
				</li>
			</ul>





		</main>
	</div>
	<!-- ======= Footer ======= -->
	<script src="./js/ops_footer.js"></script>
	<!-- End Footer -->
  </body>
</html>
